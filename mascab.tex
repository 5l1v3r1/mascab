\documentclass[a4paper,10pt]{article}

\usepackage{adjustbox}
\usepackage{hyperref}
\usepackage[backend=biber,style=draft,hyperref=true,defernumbers=true]{biblatex}
\usepackage[margin=2cm]{geometry}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

\addbibresource{mascab.bib}
\addbibresource{mascab-peripheral.bib}
\addbibresource{mascab-scratchpad.bib}

\DeclareSourcemap{
  \maps[datatype=bibtex]{
    \map{\step[fieldset=keywords,fieldvalue={unclassified}]}
  }
}

\DeclareFieldFormat{addendum}{\newline\adjustbox{minipage=[H]{\linewidth},frame={1pt 1ex 0ex}}{\color{darkgray} #1}} 
\renewcommand*\finentrypunct{}
\defbibheading{subsubbibnumbered}[\bibname]{\subsubsection{#1}\markboth{#1}{#1}}

\title{{MASCAB}: a Micro-Architectural Side-Channel Attack Bibliography}
\date{\today}
\author{\url{http://www.github.com/danpage/mascab}}

\begin{document}

\maketitle \tableofcontents \nocite{*} 

% =============================================================================

\section{Miscellaneous}

\printbibliography[heading={subbibnumbered},   title={History},  keyword={misc/history} ]
\printbibliography[heading={subbibnumbered},   title={Patents},  keyword={misc/patent}  ]
\printbibliography[heading={subbibnumbered},   title={Standards},keyword={misc/standard}]
\printbibliography[heading={subbibnumbered},   title={Surveys},  keyword={misc/survey}  ]
\printbibliography[heading={subbibnumbered},   title={Books},    keyword={misc/book}    ]
\printbibliography[heading={subbibnumbered},   title={Theses},   keyword={misc/thesis}  ]
\printbibliography[heading={subbibnumbered},   title={Software}, keyword={misc/software}]

\printbibliography[heading={subbibnumbered},   title={ Destructive cases (e.g.,         attacks): performance counters},keyword={misc/destructive/perfcounter}]
\printbibliography[heading={subbibnumbered},   title={Constructive cases (e.g., countermeasures): performance counters},keyword={misc/constructive/perfcounter}]

% =============================================================================

\section{Covert channels}

\printbibliography[heading={subbibnumbered},   title={Constructive cases (e.g., countermeasures): hardware-based},                                 keyword={covert/constructive/hardware}]
\printbibliography[heading={subbibnumbered},   title={Constructive cases (e.g., countermeasures): software-based},                                 keyword={covert/constructive/software}]

% =============================================================================

\section{Side-channels}

\subsection{Caches (data {\em and} instruction)}

\printbibliography[heading={subsubbibnumbered},title={ Destructive cases (e.g.,         attacks):     access-driven attacks on        data caches},keyword={side/cache/destructive/data/access}]
\printbibliography[heading={subsubbibnumbered},title={ Destructive cases (e.g.,         attacks): time/trace-driven attacks on        data caches},keyword={side/cache/destructive/data/trace} ]
\printbibliography[heading={subsubbibnumbered},title={ Destructive cases (e.g.,         attacks):     power-related attacks on        data caches},keyword={side/cache/destructive/data/power} ]
\printbibliography[heading={subsubbibnumbered},title={ Destructive cases (e.g.,         attacks):                   attacks on instruction caches},keyword={side/cache/destructive/instruction}]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): hardware-based},                                 keyword={side/cache/constructive/hardware}  ]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): software-based},                                 keyword={side/cache/constructive/software}  ]
\printbibliography[heading={subsubbibnumbered},title={Miscellaneous},                                                                              keyword={side/cache/misc}                   ]

\subsection{Branch prediction (e.g., target buffer)}

\printbibliography[heading={subsubbibnumbered},title={ Destructive cases (e.g.,         attacks)},                                                 keyword={side/branch/destructive}          ]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): hardware-based},                                 keyword={side/branch/constructive/hardware}]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): software-based},                                 keyword={side/branch/constructive/software}]
\printbibliography[heading={subsubbibnumbered},title={Miscellaneous},                                                                              keyword={side/branch/misc}                 ]

\subsection{Arithmetic}

\printbibliography[heading={subsubbibnumbered},title={ Destructive cases (e.g.,         attacks)},                                                 keyword={side/arith/destructive}          ]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): hardware-based},                                 keyword={side/arith/constructive/hardware}]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): software-based},                                 keyword={side/arith/constructive/software}]
\printbibliography[heading={subsubbibnumbered},title={Miscellaneous},                                                                              keyword={side/arith/misc}                 ]

\subsection{Network-on-Chip (NoC)}

\printbibliography[heading={subsubbibnumbered},title={ Destructive cases (e.g.,         attacks)},                                                 keyword={side/noc/destructive}            ]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): hardware-based},                                 keyword={side/noc/constructive/hardware}  ]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): software-based},                                 keyword={side/noc/constructive/software}  ]
\printbibliography[heading={subsubbibnumbered},title={Miscellaneous},                                                                              keyword={side/noc/misc}                   ]

\subsection{Miscellaneous}

\printbibliography[heading={subsubbibnumbered},title={ Destructive cases (e.g.,         attacks)},                                                 keyword={side/misc/destructive}          ]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): hardware-based},                                 keyword={side/misc/constructive/hardware}]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): software-based},                                 keyword={side/misc/constructive/software}]
\printbibliography[heading={subsubbibnumbered},title={Constructive cases (e.g., countermeasures): program analysis},                               keyword={side/misc/constructive/analysis}]
\printbibliography[heading={subsubbibnumbered},title={Miscellaneous},                                                                              keyword={side/misc/misc}                 ]

% =============================================================================

\section{Peripheral topics}

\printbibliography[heading={subbibnumbered},   title={Cache design},           keyword={peripheral/cache}    ]
\printbibliography[heading={subbibnumbered},   title={Rowhammer etc.},         keyword={peripheral/rowhammer}]
\printbibliography[heading={subbibnumbered},   title={Performance degradation},keyword={peripheral/degrade}  ]
\printbibliography[heading={subbibnumbered},   title={(Formal) verification},  keyword={peripheral/verify}   ]
\printbibliography[heading={subbibnumbered},   title={Key recovery},           keyword={peripheral/recover}  ]
\printbibliography[heading={subbibnumbered},   title={Attack paradigms},       keyword={peripheral/attack}   ]
\printbibliography[heading={subbibnumbered},   title={Miscellaneous},          keyword={peripheral/misc}     ]

% =============================================================================

\printbibliography[heading={bibnumbered},      title={Residual unclassified entries},keyword={unclassified}]

% =============================================================================

\end{document}
